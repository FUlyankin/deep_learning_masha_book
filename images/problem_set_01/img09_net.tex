\documentclass[class=minimal,border=10pt]{standalone}

% пакеты для математики
\usepackage{amsmath,amsfonts,amssymb,amsthm,mathtools}  
\mathtoolsset{showonlyrefs=true}  % Показывать номера только у тех формул, на которые есть \eqref{} в тексте.

\usepackage[british,russian]{babel} % выбор языка для документа
\usepackage[utf8]{inputenc}          % utf8 кодировка

% Основные шрифты 
% \usepackage{fontspec}         
% \setmainfont{Linux Libertine O}  % задаёт основной шрифт документа

% Математические шрифты 
\usepackage{unicode-math}     
\setmathfont[math-style=upright]{[Neo Euler.otf]} 

\usepackage{tikz}
\usepackage{xcolor}

% мои цвета https://www.artlebedev.ru/colors/
\definecolor{titleblue}{rgb}{0.2,0.4,0.6} 
% \definecolor{blue}{rgb}{0.2,0.4,0.6} 
% \definecolor{red}{rgb}{1,0,0.2} 
% \definecolor{green}{rgb}{0,0.6,0} 
\definecolor{purp}{rgb}{0.4,0,0.8} 

\definecolor{blue}{RGB}{0,114,178}
\definecolor{red}{RGB}{213,94,0}
\definecolor{yellow}{RGB}{240,228,66}
\definecolor{green}{RGB}{0,128, 0}

\definecolor{amethyst}{rgb}{0.6, 0.4, 0.8}
\definecolor{junglegreen}{rgb}{0.16, 0.67, 0.53}


% цвета из geogebra 
\definecolor{litebrown}{rgb}{0.6,0.2,0}
\definecolor{darkbrown}{rgb}{0.75,0.75,0.75}

\usetikzlibrary{calc,shapes,positioning}

\begin{document}
	\begin{tikzpicture}
		\draw [line width=1.pt] (-3, 1.5) circle (0.5cm) node {$x$};
		\draw [line width=1.pt] (-3, -0.5) circle (0.5cm) node {$1$};
			
		\draw [line width=1.pt] (-1,1)--(2,1)--(2,2)--(-1,2)--cycle;
		\draw (-0.3, 1.5) node[right] {$[x < a_i]$};

		\draw [line width=1.pt] (-1,-1)--(2,-1)--(2,0)--(-1,0)--cycle;
		\draw (-0.8, -0.5) node[right] {$[x \ge a_i + h]$};

		\draw [line width=1.pt] (-2.5,1.5) -- (-1,1.5);
		\draw (-1.7, 2) node {$1$};
		\draw [line width=1.pt] (-2.5,1.5) -- (-1,-0.5);
		\draw (-2.1, 0.8) node[left] {$1$};
		\draw [line width=1.pt] (-2.5,-0.5) -- (-1,1.5);
		\draw (-1, -1) node[left] {$a_i + h$};
		\draw [line width=1.pt] (-2.5,-0.5) -- (-1,-0.5);
		\draw (-2.1, 0.2) node[left] {$a_i$};

		\draw [line width=1.pt] (3,0)--(5,0)--(5,1)--(3,1)--cycle;
		\draw [line width=1.pt] (3.3,0.2)--(4,0.2)--(4,0.8)--(4.7,0.8);
		\draw [line width=1.pt] (2,1.5) -- (3,0.5);
		\draw (3, 1.5) node[left] {$-1$};
		\draw [line width=1.pt] (2,-0.5) -- (3,0.5);
		\draw (3, -0.5) node[left] {$-1$};

		\draw [line width=1.pt] (4, 2.5) circle (0.5cm) node {$1$};
		\draw [line width=1.pt] (4,2) -- (4,1);
		\draw (4, 1.5) node[right] {$1$};

		\draw [->] (5,0.5) -- (6,0.5);
		\draw (5.2, 0.8)  node[right] {$b_i$};
	\end{tikzpicture}
\end{document}
