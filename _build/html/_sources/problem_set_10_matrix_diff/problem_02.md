# 2. Несколько стандартных производных


Давайте пополним таблицу дифференциалов несколькими новыми функциями, специфичными для матриц.


__а)__ Найдите производную функции $f(X) = X^{-1}$, где матрица $X$ размера $n \times n$


```{dropdown} Решение
Найдём производную обратной матрицы.  Тут логично вспомнить, что производная константы это ноль, обратная матрица определяется как $X^{-1} \cdot X = I_n$, а единичная матрица $I_n$ это как раз константа. Берём дифференциал с обеих сторон нашего равенства 

$$
d(X^{-1}) \cdot X + X^{-1} dX = dI_n = 0,
$$
    
тсюда получаем что 
    
$$
d(X^{-1}) = - X^{-1} dX X^{-1}.
$$

```

__б)__ Найдите производную функции $f(X) = det X$, где матрица $X$ размера $n \times n$


```{dropdown} Решение
Определитель -- это функция, которая бьёт из матриц в скаляры. Его можно искать по-разному, один из способов -- разложение по строке
    
$$
det X = \sum_{j = 1}^n x_{ij} (-1)^{i + j} M_{ij}, 
$$
    
где $M_{ij}$ --- дополнительный минор матрицы $X$. Берём дифференциал 
    
$$
d(det X) = (-1)^{1 + 1} M_{11} dx_{11} + (-1)^{1 + 2} M_{12}  dx_{12} + \ldots  = \sum_{ij} A_{ji} dx_{ij} = tr(A dX),
$$
    
где $A_{ij} = (-1)^{i +j} M_{ij},$ то есть $A$ --- матрица алгебраических дополнений. Вспомним, что обратную матрицу можно получить отталкиваясь от алгебраических дополнений по формуле 
    
$$
X^{-1} = \frac{A}{det X}.
$$
    
Выразим матрицу $A$ и подставим её а получившееся выше уравнение 
    
$$
d(det X) = tr(det (X) X^{-1} dX),
$$
    
выходит что искомая производная равна 
    
$$
\nabla_X f(X) = (det X \cdot X^{-1})^T = det X \cdot X^{-T}.
$$

```

Найдите производную функции $f(X) = tr(X)$, где матрица $X$ размера $n \times n$


```{dropdown} Решение
По аналогии с определителем след бьёт из пространства матриц в пространство скаляров, получается 
    
$$
d(tr X) = tr(I_n dX).
$$
    
Это логично, так как след представляет из себя сумму диагональных элементов.
```

Ещё больше производных ищите в книге [The Matrix Cookbook](https://www.math.uwaterloo.ca/~hwolkowi/matrixcookbook.pdf)


